// Code generated by protoc-gen-markdown. DO NOT EDIT.<br />
// version:<br />
// 	protoc-gen-markdown v0.0.98<br />
// 	protoc              v4.25.3<br />
// source: api/admin_app.proto<br />

## app
### get_app

#### Req:
```
Path:         /admin.app/get_app
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//uint32
	//element num must == 2
	"project_id":[1,2],
	//value length must > 0
	"g_name":"str",
	//value length must > 0
	"a_name":"str",
	//value length must < 32
	"secret":"str"
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
	//can be one of "kubernetes" / "dns" / "static"
	"discover_mode":"str",
	//when discover_mode == "kubernetes"
	"kubernetes_namespace":"str",
	//when discover_mode == "kubernetes"
	"kubernetes_labelselector":"str",
	//when discover_mode == "kubernetes"
	"kubernetes_fieldselector":"str",
	//when discover_mode == "dns"
	"dns_host":"str",
	//when discover_mode == "dns",unit seconds
	//uint32
	"dns_interval":0,
	//when discover_mode == "static"
	"static_addrs":["str","str"],
	//uint32
	"crpc_port":0,
	//uint32
	"cgrpc_port":0,
	//uint32
	"web_port":0,
	//kv map,value-object key_config_info
	"keys":{"str":{},"str":{}},
	//kv map,value-object proxy_path_info
	"paths":{"str":{},"str":{}}
}
------------------------------------------------------------------------------------------------------------
key_config_info: {
	//uint32
	"cur_index":0,
	//uint32
	"max_index":0,
	//uint32
	"cur_version":0,
	"cur_value":"str",
	"cur_value_type":"str"
}
------------------------------------------------------------------------------------------------------------
proxy_path_info: {
	//uint32
	"node_id":[1,2],
	//need read permission on this node
	"read":true,
	//need write permission on this node
	"write":true,
	//need admin permission on this node
	"admin":true
}
------------------------------------------------------------------------------------------------------------
```
### set_app

#### Req:
```
Path:         /admin.app/set_app
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//uint32
	//element num must == 2
	"project_id":[1,2],
	//value length must > 0
	"g_name":"str",
	//value length must > 0
	"a_name":"str",
	//value length must < 32
	"secret":"str",
	//value must in ["kubernetes","dns","static"]
	"discover_mode":"str",
	//when discover_mode == "kubernetes"
	"kubernetes_namespace":"str",
	//when discover_mode == "kubernetes"
	"kubernetes_labelselector":"str",
	//when discover_mode == "kubernetes"
	"kubernetes_fieldselector":"str",
	//when discover_mode == "dns"
	"dns_host":"str",
	//when discover_mode == "dns",unit seconds
	//uint32
	"dns_interval":0,
	//when discover_mode == "static"
	"static_addrs":["str","str"],
	//uint32
	//value must > 0
	//value must < 65536
	"crpc_port":0,
	//uint32
	//value must > 0
	//value must < 65536
	"cgrpc_port":0,
	//uint32
	//value must > 0
	//value must < 65536
	"web_port":0,
	//true: create a new app. false: update the already exist app
	"new_app":true
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
	//uint32
	"node_id":[1,2]
}
------------------------------------------------------------------------------------------------------------
```
### del_app

#### Req:
```
Path:         /admin.app/del_app
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//uint32
	//element num must == 2
	"project_id":[1,2],
	//value length must > 0
	"g_name":"str",
	//value length must > 0
	"a_name":"str",
	//value length must < 32
	"secret":"str"
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
}
------------------------------------------------------------------------------------------------------------
```
### update_app_secret

#### Req:
```
Path:         /admin.app/update_app_secret
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//uint32
	//element num must == 2
	"project_id":[1,2],
	//value length must > 0
	"g_name":"str",
	//value length must > 0
	"a_name":"str",
	//value length must < 32
	"old_secret":"str",
	//value length must < 32
	"new_secret":"str"
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
}
------------------------------------------------------------------------------------------------------------
```
### del_key

#### Req:
```
Path:         /admin.app/del_key
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//uint32
	//element num must == 2
	"project_id":[1,2],
	//value length must > 0
	"g_name":"str",
	//value length must > 0
	"a_name":"str",
	//can't contain '.' in key
	//value length must > 0
	"key":"str",
	//value length must < 32
	"secret":"str"
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
}
------------------------------------------------------------------------------------------------------------
```
### get_key_config

#### Req:
```
Path:         /admin.app/get_key_config
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//uint32
	//element num must == 2
	"project_id":[1,2],
	//value length must > 0
	"g_name":"str",
	//value length must > 0
	"a_name":"str",
	//can't contain '.' in key
	//value length must > 0
	"key":"str",
	//0 means return current active config,config's index start from 1
	//uint32
	"index":0,
	//value length must < 32
	"secret":"str"
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
	//current active config index,0 means not exist
	//uint32
	"cur_index":0,
	//current max config index,0 means not exist
	//uint32
	"max_index":0,
	//current active config version,config's version start from 1
	//uint32
	"cur_version":0,
	//the config data below belong's to which index
	//uint32
	"this_index":0,
	"value":"str",
	"value_type":"str"
}
------------------------------------------------------------------------------------------------------------
```
### set_key_config

#### Req:
```
Path:         /admin.app/set_key_config
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//uint32
	//element num must == 2
	"project_id":[1,2],
	//value length must > 0
	"g_name":"str",
	//value length must > 0
	"a_name":"str",
	//can't contain '.' in key
	//value length must > 0
	"key":"str",
	//value length must > 0
	"value":"str",
	//value must in ["raw","json","yaml","toml"]
	"value_type":"str",
	//value length must < 32
	"secret":"str",
	//true: create a new key config. false: update the already exist key config
	"new_key":true
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
}
------------------------------------------------------------------------------------------------------------
```
### rollback

#### Req:
```
Path:         /admin.app/rollback
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//uint32
	//element num must == 2
	"project_id":[1,2],
	//value length must > 0
	"g_name":"str",
	//value length must > 0
	"a_name":"str",
	//can't contain '.' in key
	//value length must > 0
	"key":"str",
	//value length must < 32
	"secret":"str",
	//uint32
	//value must > 0
	"index":0
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
}
------------------------------------------------------------------------------------------------------------
```
### watch_config

#### Req:
```
Path:         /admin.app/watch_config
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//value length must > 0
	"project_name":"str",
	//value length must > 0
	"g_name":"str",
	//value length must > 0
	"a_name":"str",
	//map's key is config's keyname,map's value is config's cur version
	//if cur version == 0 means return current active config
	//if all cur version is the newest,the request will block until a new version come
	//if some keys' version is the newest,and some keys' version is old,then the keys with old version will return newest version and datas,the newest's keys will only return version
	//can't contain '.' in key
	//kv map,value-uint32
	//element num must > 0
	"keys":{"str":0,"str":0}
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
	//kv map,value-object watch_data
	"datas":{"str":{},"str":{}}
}
------------------------------------------------------------------------------------------------------------
watch_data: {
	"key":"str",
	"value":"str",
	"value_type":"str",
	//uint32
	"version":0
}
------------------------------------------------------------------------------------------------------------
```
### watch_discover

#### Req:
```
Path:         /admin.app/watch_discover
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//value length must > 0
	"project_name":"str",
	//value length must > 0
	"g_name":"str",
	//value length must > 0
	"a_name":"str",
	//value must in ["kubernetes","dns","static",""]
	"cur_discover_mode":"str",
	//when discover_mode == "dns"
	"cur_dns_host":"str",
	//when cur_discover_mode == "dns",unit seconds
	//uint32
	"cur_dns_interval":0,
	//when cur_discover_mode == "static"
	"cur_static_addrs":["str","str"],
	//when cur_discover_mode == "kubernetes"
	"cur_kubernetes_namespace":"str",
	//when cur_discover_mode == "kubernetes"
	"cur_kubernetes_labelselector":"str",
	//when cur_discover_mode == "kubernetes"
	"cur_kubernetes_fieldselector":"str",
	//uint32
	//value must < 65536
	"cur_crpc_port":0,
	//uint32
	//value must < 65536
	"cur_cgrpc_port":0,
	//uint32
	//value must < 65536
	"cur_web_port":0
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
	"discover_mode":"str",
	//when discover_mode == "dns"
	"dns_host":"str",
	//when discover_mode == "dns"
	//uint32
	"dns_interval":0,
	//when discover_mode == "static"
	"static_addrs":["str","str"],
	//when discover_mode == "kubernetes"
	"kubernetes_namespace":"str",
	//when discover_mode == "kubernetes"
	"kubernetes_labelselector":"str",
	//when discover_mode == "kubernetes"
	"kubernetes_fieldselector":"str",
	//uint32
	"crpc_port":0,
	//uint32
	"cgrpc_port":0,
	//uint32
	"web_port":0
}
------------------------------------------------------------------------------------------------------------
```
### get_instances

#### Req:
```
Path:         /admin.app/get_instances
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//uint32
	//element num must == 2
	"project_id":[1,2],
	//value length must != 0
	"g_name":"str",
	//value length must != 0
	"a_name":"str",
	"secret":"str",
	"with_info":true
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
	//key addr,value info,if with_info is false,value is empty
	//kv map,value-object instance_info
	"instances":{"str":{},"str":{}}
}
------------------------------------------------------------------------------------------------------------
instance_info: {
	"name":"str",
	//uint64 use string to prevent overflow
	"total_mem":"0",
	//uint64 use string to prevent overflow
	"cur_mem_usage":"0",
	//float64
	"cpu_num":0.1,
	//float64
	"cur_cpu_usage":0.1
}
------------------------------------------------------------------------------------------------------------
```
### get_instance_info

#### Req:
```
Path:         /admin.app/get_instance_info
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//uint32
	//element num must == 2
	"project_id":[1,2],
	//value length must != 0
	"g_name":"str",
	//value length must != 0
	"a_name":"str",
	"secret":"str",
	//value length must > 0
	"addr":"str"
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
	//object instance_info
	"info":{}
}
------------------------------------------------------------------------------------------------------------
instance_info: {
	"name":"str",
	//uint64 use string to prevent overflow
	"total_mem":"0",
	//uint64 use string to prevent overflow
	"cur_mem_usage":"0",
	//float64
	"cpu_num":0.1,
	//float64
	"cur_cpu_usage":0.1
}
------------------------------------------------------------------------------------------------------------
```
### set_proxy

#### Req:
```
Path:         /admin.app/set_proxy
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//uint32
	//element num must == 2
	"project_id":[1,2],
	//value length must != 0
	"g_name":"str",
	//value length must != 0
	"a_name":"str",
	//value length must != 0
	"path":"str",
	//need read permission on this node
	"read":true,
	//need write permission on this node
	"write":true,
	//need admin permission on this node
	"admin":true,
	//value length must < 32
	"secret":"str",
	//true: create a new proxy path config. false: update the already exist proxy path setting
	"new_path":true
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
	//uint32
	"node_id":[1,2]
}
------------------------------------------------------------------------------------------------------------
```
### del_proxy

#### Req:
```
Path:         /admin.app/del_proxy
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//uint32
	//element num must == 2
	"project_id":[1,2],
	//value length must != 0
	"g_name":"str",
	//value length must != 0
	"a_name":"str",
	//value length must != 0
	"path":"str",
	//value length must < 32
	"secret":"str"
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
}
------------------------------------------------------------------------------------------------------------
```
### proxy

#### Req:
```
Path:         /admin.app/proxy
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//uint32
	//element num must == 2
	"project_id":[1,2],
	//value length must != 0
	"g_name":"str",
	//value length must != 0
	"a_name":"str",
	//value length must != 0
	"path":"str",
	//value length must >= 2
	"data":"str",
	"force_addr":"str"
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
	"data":"str"
}
------------------------------------------------------------------------------------------------------------
```
